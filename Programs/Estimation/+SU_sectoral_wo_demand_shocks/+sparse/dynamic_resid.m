function [residual, T_order, T] = dynamic_resid(y, x, params, steady_state, T_order, T)
if nargin < 6
    T_order = -1;
    T = NaN(85, 1);
end
[T_order, T] = SU_sectoral_wo_demand_shocks.sparse.dynamic_resid_tt(y, x, params, steady_state, T_order, T);
residual = NaN(100, 1);
    residual(1) = (y(119)) - (T(56)^(1/(1+params(19))));
    residual(2) = (T(54)*T(5)*T(58)) - ((1-params(16))*y(130)/(params(7)*exp(y(125))));
    residual(3) = (T(55)*T(6)*T(58)) - ((1-params(16))*y(131)/(params(7)*exp(y(126))));
    residual(4) = (y(157)) - ((1-params(16))*y(153)^(-params(1)));
    residual(5) = (y(103)) - (y(102)*T(34));
    residual(6) = (y(104)) - (y(102)*T(7));
    residual(7) = (T(8)) - (y(103)*params(16)*y(154)/y(150));
    residual(8) = (T(8)) - (y(104)*params(16)*y(155)/y(151));
    residual(9) = (T(8)) - (params(16)*y(156)*y(106)/y(152));
    residual(10) = (y(153)) - (y(102)-params(15)*y(2)-y(149)^T(9)/T(9)-T(59));
    residual(11) = (y(102)) - (T(37)^(1/T(1)));
    residual(12) = (y(143)) - (T(10)*(y(161)-exp(params(3)))^2);
    residual(13) = (y(144)) - (T(10)*(y(162)-exp(params(3)))^2);
    residual(14) = (y(145)) - (T(10)*(y(163)-exp(params(3)))^2);
    residual(15) = (y(146)) - (params(10)*(y(161)-exp(params(3))));
    residual(16) = (y(147)) - (params(10)*(y(162)-exp(params(3))));
    residual(17) = (y(148)) - (params(10)*(y(163)-exp(params(3))));
    residual(18) = (y(161)) - (y(107)/y(7)*T(11));
    residual(19) = (y(162)) - (T(11)*y(108)/y(8));
    residual(20) = (y(163)) - (T(11)*y(109)/y(9));
    residual(21) = (y(137)) - (T(41)+(y(133)-1)*T(42)+(y(133)-1)^2*T(60));
    residual(22) = (y(138)) - (T(41)+(y(134)-1)*T(42)+(y(134)-1)^2*T(60));
    residual(23) = (y(139)) - (T(41)+(y(135)-1)*T(42)+(y(135)-1)^2*params(9)*T(42)/2);
    residual(24) = (y(140)) - (T(42)+(y(133)-1)*params(8)*T(42));
    residual(25) = (y(141)) - (T(42)+(y(134)-1)*params(8)*T(42));
    residual(26) = (y(142)) - (T(42)+(y(135)-1)*params(9)*T(42));
    residual(27) = (y(156)/(1-params(16))) - (y(158)*(1-y(161)*y(146)-y(143))+T(15));
    residual(28) = (y(156)/(1-params(16))) - (y(159)*(1-y(162)*y(147)-y(144))+T(17));
    residual(29) = (y(156)/(1-params(16))) - (y(160)*(1-y(163)*y(148)-y(145))+T(19));
    residual(30) = (y(158)) - (T(13)*(y(227)*y(233)+y(258)*(1-y(237))));
    residual(31) = (y(159)) - (T(13)*(y(228)*y(234)+y(259)*(1-y(238))));
    residual(32) = (y(160)) - (T(13)*(y(229)*y(235)+y(260)*(1-y(239))));
    residual(33) = (y(140)*y(158)) - (y(127));
    residual(34) = (y(141)*y(159)) - (y(128));
    residual(35) = (y(142)*y(160)) - (y(129));
    residual(36) = (y(103)) - (T(66));
    residual(37) = (y(104)) - (T(71));
    residual(38) = (y(106)) - (T(76));
    residual(39) = (T(11)*y(111)) - (T(11)*y(107)*(1-y(143))+y(11)*(1-y(137)));
    residual(40) = (T(11)*y(112)) - (T(11)*y(108)*(1-y(144))+y(12)*(1-y(138)));
    residual(41) = (T(11)*y(113)) - (T(11)*y(109)*(1-y(145))+y(13)*(1-y(139)));
    residual(42) = ((1-params(16))*y(130)/y(154)) - (T(2)*(y(103)+T(47)*T(61))/y(115));
    residual(43) = ((1-params(16))*y(130)/y(155)) - (T(2)*(y(104)+T(48)*T(67))/y(116));
    residual(44) = ((1-params(16))*y(131)/y(156)) - (T(2)*(y(106)+T(49)*T(72))/y(118));
    residual(45) = ((1-params(16))*y(127)/y(154)) - ((y(103)+T(47)*T(61))*T(11)*T(43)/(y(133)*y(11)));
    residual(46) = ((1-params(16))*y(128)/y(155)) - ((y(104)+T(48)*T(67))*T(11)*T(43)/(y(134)*y(12)));
    residual(47) = ((1-params(16))*y(129)/y(156)) - ((y(106)+T(49)*T(72))*T(11)*T(43)/(y(135)*y(13)));
    residual(48) = (y(114)) - (y(118)+y(115)+y(116));
    residual(49) = (y(117)) - (y(115)+y(116));
    residual(50) = (y(110)) - (y(113)+y(111)+y(112));
    residual(51) = (y(106)) - (y(109)+y(107)+y(108));
    residual(52) = (y(149)) - (y(152)+y(150)+y(151));
    residual(53) = (y(136)) - (y(133)*T(20)+y(134)*T(21)+y(135)*T(22));
    residual(54) = (y(132)) - (y(130)*y(117)/y(114)+y(131)*y(118)/y(114));
    residual(55) = (y(101)) - (y(102)+y(106)*params(27));
    residual(56) = (y(105)) - (T(23)*T(33));
    residual(57) = (y(166)) - (T(66)/T(79));
    residual(58) = (y(167)) - (T(71)/T(82));
    residual(59) = (y(168)) - (T(76)/T(85));
    residual(60) = (y(165)) - ((y(103)*y(166)+y(104)*y(167)+y(106)*y(168))/y(101));
    residual(61) = (y(169)) - (params(3)*(1-params(20))+params(20)*y(69)+x(1));
    residual(62) = (y(120)) - (params(21)*y(20)+x(2));
    residual(63) = (y(121)) - (params(22)*y(22)+x(3));
    residual(64) = (y(122)) - (y(120)+y(121));
    residual(65) = (y(123)) - (params(23)*y(23)-x(4));
    residual(66) = (y(124)) - (params(24)*y(24)+x(5));
    residual(67) = (y(125)) - (params(25)*y(25)+x(6));
    residual(68) = (y(126)) - (params(26)*y(26)+x(7));
    residual(69) = (y(170)) - (log(y(101))-(log(steady_state(1))));
    residual(70) = (y(171)) - (log(y(102))-(log(steady_state(2))));
    residual(71) = (y(172)) - (log(y(106))-(log(steady_state(6))));
    residual(72) = (y(173)) - (log(y(114))-(log(steady_state(14))));
    residual(73) = (y(174)) - (log(y(117))-(log(steady_state(17))));
    residual(74) = (y(175)) - (log(y(118))-(log(steady_state(18))));
    residual(75) = (y(176)) - (log(y(110))-(log(steady_state(10))));
    residual(76) = (y(177)) - (y(170)-y(173));
    residual(77) = (y(178)) - (log(y(149))-(log(steady_state(49))));
    residual(78) = (y(179)) - (log(y(136))-(log(steady_state(36))));
    residual(79) = (y(180)) - (log(y(156))-(log(steady_state(56))));
    residual(80) = (y(181)) - (log(y(165))-(log(steady_state(65))));
    residual(81) = (y(182)) - (log(y(166))-(log(steady_state(66))));
    residual(82) = (y(183)) - (log(y(168))-(log(steady_state(68))));
    residual(83) = (y(184)) - (log(y(132))-(log(steady_state(32))));
    residual(84) = (y(164)) - (log(y(105))-(log(steady_state(5))));
    residual(85) = (y(185)) - (y(169)+y(171)-y(71)-params(3));
    residual(86) = (y(186)) - (y(169)+y(172)-y(72)-params(3));
    residual(87) = (y(187)) - (y(169)+y(170)-y(70)-params(3));
    residual(88) = (y(189)) - (y(169)+y(177)-y(77)-params(3));
    residual(89) = (y(200)) - (y(169)+y(176)-y(76)-params(3));
    residual(90) = (y(197)) - (y(169)+y(184)-y(84)-params(3));
    residual(91) = (y(188)) - (y(164)-y(64)+params(13)*(y(169)-params(3)));
    residual(92) = (y(190)) - (y(180)-y(80));
    residual(93) = (y(191)) - (y(173)-y(73));
    residual(94) = (y(192)) - (y(174)-y(74));
    residual(95) = (y(193)) - (y(175)-y(75));
    residual(96) = (y(194)) - (y(182)-y(82));
    residual(97) = (y(195)) - (y(183)-y(83));
    residual(98) = (y(196)) - (y(181)-y(81));
    residual(99) = (y(198)) - (y(178)-y(78));
    residual(100) = (y(199)) - (y(179)-y(79));
end
