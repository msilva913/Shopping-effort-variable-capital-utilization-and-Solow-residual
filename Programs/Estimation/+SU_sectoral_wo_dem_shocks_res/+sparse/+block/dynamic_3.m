function [y, T, residual, g1] = dynamic_3(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(42, 1);
  T(1)=exp(params(3));
  y(143)=params(10)/2*(y(161)-T(1))^2;
  y(145)=params(10)/2*(y(163)-T(1))^2;
  T(2)=T(1)^params(1)/params(2)-1+1+params(11)/params(12)-T(1);
  y(141)=T(2)+(y(134)-1)*params(8)*T(2);
  y(142)=T(2)+(y(135)-1)*params(9)*T(2);
  y(106)=y(109)+y(107)+y(108);
  T(3)=params(6)*y(155)^(-params(5));
  y(104)=y(102)*T(3);
  T(4)=(1-params(6))*y(154)^(-params(5));
  y(103)=y(102)*T(4);
  y(144)=params(10)/2*(y(162)-T(1))^2;
  T(5)=y(149)^(1/params(17));
  residual(1)=(T(5))-(y(103)*params(16)*y(154)/y(150));
  residual(2)=(T(5))-(y(104)*params(16)*y(155)/y(151));
  residual(3)=(T(5))-(params(16)*y(156)*y(106)/y(152));
  T(6)=exp(y(123))*(1-params(16))*params(13)/params(28)/(params(28)^(1/params(4))*params(7));
  residual(4)=(y(153))-(y(102)-params(15)*y(2)-y(149)^(1+1/params(17))/(1+1/params(17))-y(119)^(1+1/params(4))*T(6)/(1+1/params(4)));
  residual(5)=(y(140)*y(158))-(y(127));
  T(7)=(1-params(16))*params(13)/(1+params(14));
  T(8)=params(16)^(params(17)/(1+params(17)));
  T(9)=exp(y(169));
  T(10)=exp(y(120));
  T(11)=y(115)^T(7);
  T(12)=params(12)*T(2)/(1+params(14));
  T(13)=params(18)/(T(8)*(1-params(6))*(1-params(11)))^params(16);
  T(14)=T(1)^(-T(12));
  T(15)=y(150)^params(16)*T(13);
  T(16)=T(9)^(-T(12));
  T(17)=T(10)*(params(14)*(1-params(6))*(1-params(11))/params(18)+(1-params(6))*(1-params(11))/params(18))/(T(14)*((1-params(6))*(1-params(11))*params(12)*T(1))^T(12)*((1-params(6))*(1-params(11))*params(28))^T(7))*T(16);
  T(18)=T(17)*(y(133)*y(11))^T(12);
  T(19)=T(11)*T(18)-params(14)*(1-params(6))*(1-params(11))/params(18);
  residual(6)=(y(103))-(T(15)*T(19));
  T(20)=y(118)^T(7);
  T(21)=params(18)/(params(11)*T(8))^params(16);
  T(22)=y(152)^params(16)*T(21);
  T(23)=exp(y(122))*(params(11)*params(14)/params(18)+params(11)/params(18))/(T(14)*(params(11)*params(12)*T(1))^T(12)*(params(11)*params(28))^T(7))*T(16);
  T(24)=T(23)*(y(135)*y(13))^T(12);
  T(25)=T(20)*T(24)-params(11)*params(14)/params(18);
  residual(7)=(y(106))-(T(22)*T(25));
  residual(8)=((1-params(16))*y(130)/y(154))-(T(7)*(y(103)+params(14)*(1-params(6))*(1-params(11))/params(18)*T(15))/y(115));
  T(26)=params(18)/(T(8)*params(6)*(1-params(11)))^params(16);
  T(27)=y(151)^params(16)*T(26);
  T(28)=y(104)+params(14)*params(6)*(1-params(11))/params(18)*T(27);
  residual(9)=((1-params(16))*y(130)/y(155))-(T(7)*T(28)/y(116));
  residual(10)=((1-params(16))*y(131)/y(156))-(T(7)*(y(106)+params(11)*params(14)/params(18)*T(22))/y(118));
  residual(11)=((1-params(16))*y(128)/y(155))-(T(28)*T(9)*T(12)/(y(134)*y(12)));
  T(29)=(y(118)/y(119))^params(19);
  T(30)=params(7)*exp(y(126));
  T(31)=(1-(1-params(11)))^(-params(19));
  T(32)=y(119)^(1/params(4))*T(6);
  residual(12)=(T(31)*T(29)*T(32))-((1-params(16))*y(131)/T(30));
  residual(13)=(y(117))-(y(115)+y(116));
  residual(14)=(y(149))-(y(152)+y(150)+y(151));
  T(33)=(y(117)/y(119))^params(19);
  T(34)=params(7)*exp(y(125));
  T(35)=(1-params(11))^(-params(19));
  residual(15)=(T(35)*T(33)*T(32))-((1-params(16))*y(130)/T(34));
  T(36)=y(117)^(1+params(19))*T(35)+y(118)^(1+params(19))*T(31);
  residual(16)=(y(119))-(T(36)^(1/(1+params(19))));
  T(37)=params(6)^(1-(params(5)-1)/params(5));
  T(38)=(1-params(6))^(1-(params(5)-1)/params(5));
  T(39)=T(37)*y(104)^((params(5)-1)/params(5))+T(38)*y(103)^((params(5)-1)/params(5));
  residual(17)=(y(102))-(T(39)^(1/((params(5)-1)/params(5))));
  residual(18)=(y(161))-(y(107)/y(7)*T(9));
  residual(19)=(y(162))-(T(9)*y(108)/y(8));
  residual(20)=(y(163))-(T(9)*y(109)/y(9));
  residual(21)=(T(9)*y(111))-(T(9)*y(107)*(1-y(143))+y(11)*(1-y(137)));
  residual(22)=(T(9)*y(112))-(T(9)*y(108)*(1-y(144))+y(12)*(1-y(138)));
  residual(23)=(T(9)*y(113))-(T(9)*y(109)*(1-y(145))+y(13)*(1-y(139)));
  residual(24)=(y(146))-(params(10)*(y(161)-T(1)));
  residual(25)=(y(147))-(params(10)*(y(162)-T(1)));
  residual(26)=(y(148))-(params(10)*(y(163)-T(1)));
  residual(27)=(y(137))-(1+params(11)/params(12)-T(1)+(y(133)-1)*T(2)+(y(133)-1)^2*params(8)*T(2)/2);
  residual(28)=(y(138))-(1+params(11)/params(12)-T(1)+(y(134)-1)*T(2)+(y(134)-1)^2*params(8)*T(2)/2);
  residual(29)=(y(139))-(1+params(11)/params(12)-T(1)+(y(135)-1)*T(2)+(y(135)-1)^2*params(9)*T(2)/2);
  residual(30)=(y(140))-(T(2)+(y(133)-1)*params(8)*T(2));
  T(40)=params(2)*exp(y(124));
  T(41)=exp(y(269))^(-params(1));
  T(42)=T(40)*y(257)/y(157)*T(41);
  T(43)=y(261)^2;
  residual(31)=(y(156)/(1-params(16)))-(y(158)*(1-y(161)*y(146)-y(143))+T(42)*y(258)*y(246)*T(43));
  T(44)=y(262)^2;
  residual(32)=(y(156)/(1-params(16)))-(y(159)*(1-y(162)*y(147)-y(144))+T(42)*y(259)*y(247)*T(44));
  T(45)=y(263)^2;
  residual(33)=(y(156)/(1-params(16)))-(y(160)*(1-y(163)*y(148)-y(145))+T(42)*y(260)*y(248)*T(45));
  residual(34)=(y(158))-(T(42)*(y(227)*y(233)+y(258)*(1-y(237))));
  residual(35)=(y(159))-(T(42)*(y(228)*y(234)+y(259)*(1-y(238))));
  residual(36)=(y(160))-(T(42)*(y(229)*y(235)+y(260)*(1-y(239))));
  residual(37)=(y(141)*y(159))-(y(128));
  residual(38)=(y(142)*y(160))-(y(129));
  T(46)=y(116)^T(7);
  T(47)=T(10)*(params(14)*params(6)*(1-params(11))/params(18)+params(6)*(1-params(11))/params(18))/(T(14)*(params(6)*(1-params(11))*params(12)*T(1))^T(12)*(params(6)*(1-params(11))*params(28))^T(7))*T(16);
  T(48)=T(47)*(y(134)*y(12))^T(12);
  T(49)=T(46)*T(48)-params(14)*params(6)*(1-params(11))/params(18);
  residual(39)=(y(104))-(T(27)*T(49));
  residual(40)=((1-params(16))*y(127)/y(154))-((y(103)+params(14)*(1-params(6))*(1-params(11))/params(18)*T(15))*T(9)*T(12)/(y(133)*y(11)));
  residual(41)=((1-params(16))*y(129)/y(156))-((y(106)+params(11)*params(14)/params(18)*T(22))*T(9)*T(12)/(y(135)*y(13)));
  residual(42)=(y(157))-((1-params(16))*y(153)^(-params(1)));
  T(50)=getPowerDeriv(y(103),(params(5)-1)/params(5),1);
  T(51)=getPowerDeriv(T(39),1/((params(5)-1)/params(5)),1);
  T(52)=getPowerDeriv(y(104),(params(5)-1)/params(5),1);
  T(53)=getPowerDeriv(y(133)*y(11),T(12),1);
  T(54)=getPowerDeriv(y(134)*y(12),T(12),1);
  T(55)=getPowerDeriv(y(135)*y(13),T(12),1);
  T(56)=getPowerDeriv(T(36),1/(1+params(19)),1);
  T(57)=getPowerDeriv(y(117)/y(119),params(19),1);
  T(58)=getPowerDeriv(y(118)/y(119),params(19),1);
  T(59)=T(6)*getPowerDeriv(y(119),1/params(4),1);
  T(60)=getPowerDeriv(y(149),1/params(17),1);
  T(61)=T(13)*getPowerDeriv(y(150),params(16),1);
  T(62)=T(26)*getPowerDeriv(y(151),params(16),1);
  T(63)=params(14)*params(6)*(1-params(11))/params(18)*T(62);
  T(64)=T(21)*getPowerDeriv(y(152),params(16),1);
  T(65)=y(102)*(1-params(6))*getPowerDeriv(y(154),(-params(5)),1);
  T(66)=y(102)*params(6)*getPowerDeriv(y(155),(-params(5)),1);
  T(67)=T(41)*T(40)*(-y(257))/(y(157)*y(157));
if nargout > 3
    g1_v = NaN(191, 1);
g1_v(1)=params(15);
g1_v(2)=(-(T(9)*(-y(107))/(y(7)*y(7))));
g1_v(3)=(-(T(9)*(-y(108))/(y(8)*y(8))));
g1_v(4)=(-(T(9)*(-y(109))/(y(9)*y(9))));
g1_v(5)=(-(T(15)*T(11)*T(17)*y(133)*T(53)));
g1_v(6)=(-(1-y(137)));
g1_v(7)=(-((-(y(133)*(y(103)+params(14)*(1-params(6))*(1-params(11))/params(18)*T(15))*T(9)*T(12)))/(y(133)*y(11)*y(133)*y(11))));
g1_v(8)=(-((-(y(134)*T(28)*T(9)*T(12)))/(y(134)*y(12)*y(134)*y(12))));
g1_v(9)=(-(1-y(138)));
g1_v(10)=(-(T(27)*T(46)*T(47)*y(134)*T(54)));
g1_v(11)=(-(T(22)*T(20)*T(23)*y(135)*T(55)));
g1_v(12)=(-(1-y(139)));
g1_v(13)=(-((-(y(135)*(y(106)+params(11)*params(14)/params(18)*T(22))*T(9)*T(12)))/(y(135)*y(13)*y(135)*y(13))));
g1_v(14)=(-((params(16)*y(103)+params(16)*y(154)*T(65))/y(150)));
g1_v(15)=T(65);
g1_v(16)=(-((1-params(16))*y(130)))/(y(154)*y(154))-T(7)*T(65)/y(115);
g1_v(17)=(-(T(51)*T(38)*T(50)*T(65)));
g1_v(18)=(-((1-params(16))*y(127)))/(y(154)*y(154))-T(9)*T(12)*T(65)/(y(133)*y(11));
g1_v(19)=T(60);
g1_v(20)=T(60);
g1_v(21)=T(60);
g1_v(22)=getPowerDeriv(y(149),1+1/params(17),1)/(1+1/params(17));
g1_v(23)=1;
g1_v(24)=(-((-(params(16)*y(156)*y(106)))/(y(152)*y(152))));
g1_v(25)=(-(T(25)*T(64)));
g1_v(26)=(-(T(7)*params(11)*params(14)/params(18)*T(64)/y(118)));
g1_v(27)=(-1);
g1_v(28)=(-(T(9)*T(12)*params(11)*params(14)/params(18)*T(64)/(y(135)*y(13))));
g1_v(29)=1;
g1_v(30)=(-((1-params(16))*getPowerDeriv(y(153),(-params(1)),1)));
g1_v(31)=y(158);
g1_v(32)=1;
g1_v(33)=(-((-(y(103)*params(16)*y(154)))/(y(150)*y(150))));
g1_v(34)=(-(T(19)*T(61)));
g1_v(35)=(-(T(7)*params(14)*(1-params(6))*(1-params(11))/params(18)*T(61)/y(115)));
g1_v(36)=(-1);
g1_v(37)=(-(T(9)*T(12)*params(14)*(1-params(6))*(1-params(11))/params(18)*T(61)/(y(133)*y(11))));
g1_v(38)=(-(T(22)*T(24)*getPowerDeriv(y(118),T(7),1)));
g1_v(39)=(-((-(T(7)*(y(106)+params(11)*params(14)/params(18)*T(22))))/(y(118)*y(118))));
g1_v(40)=T(31)*T(32)*1/y(119)*T(58);
g1_v(41)=(-(T(56)*T(31)*getPowerDeriv(y(118),1+params(19),1)));
g1_v(42)=(1-params(16))/y(154);
g1_v(43)=(1-params(16))/y(155);
g1_v(44)=(-((1-params(16))/T(34)));
g1_v(45)=(-((-(T(7)*T(28)))/(y(116)*y(116))));
g1_v(46)=(-1);
g1_v(47)=(-(T(27)*T(48)*getPowerDeriv(y(116),T(7),1)));
g1_v(48)=(-(params(16)*y(106)/y(152)));
g1_v(49)=(-((1-params(16))*y(131)))/(y(156)*y(156));
g1_v(50)=1/(1-params(16));
g1_v(51)=1/(1-params(16));
g1_v(52)=1/(1-params(16));
g1_v(53)=(-((1-params(16))*y(129)))/(y(156)*y(156));
g1_v(54)=(-((params(16)*y(104)+params(16)*y(155)*T(66))/y(151)));
g1_v(55)=(-((1-params(16))*y(130)))/(y(155)*y(155))-T(7)*T(66)/y(116);
g1_v(56)=(-((1-params(16))*y(128)))/(y(155)*y(155))-T(9)*T(12)*T(66)/(y(134)*y(12));
g1_v(57)=(-(T(51)*T(37)*T(52)*T(66)));
g1_v(58)=T(66);
g1_v(59)=(1-params(16))/y(156);
g1_v(60)=(-((1-params(16))/T(30)));
g1_v(61)=(-(T(15)*T(18)*getPowerDeriv(y(115),T(7),1)));
g1_v(62)=(-((-(T(7)*(y(103)+params(14)*(1-params(6))*(1-params(11))/params(18)*T(15))))/(y(115)*y(115))));
g1_v(63)=(-1);
g1_v(64)=(-((-(y(104)*params(16)*y(155)))/(y(151)*y(151))));
g1_v(65)=(-(T(7)*T(63)/y(116)));
g1_v(66)=(-(T(9)*T(12)*T(63)/(y(134)*y(12))));
g1_v(67)=(-1);
g1_v(68)=(-(T(49)*T(62)));
g1_v(69)=T(6)*getPowerDeriv(y(119),1+1/params(4),1)/(1+1/params(4));
g1_v(70)=T(31)*(T(32)*T(58)*(-y(118))/(y(119)*y(119))+T(29)*T(59));
g1_v(71)=T(35)*(T(32)*T(57)*(-y(117))/(y(119)*y(119))+T(33)*T(59));
g1_v(72)=1;
g1_v(73)=1;
g1_v(74)=T(35)*T(32)*1/y(119)*T(57);
g1_v(75)=(-(T(35)*getPowerDeriv(y(117),1+params(19),1)*T(56)));
g1_v(76)=(-(params(16)*y(154)*T(4)/y(150)));
g1_v(77)=(-(T(3)*params(16)*y(155)/y(151)));
g1_v(78)=(-1);
g1_v(79)=T(4);
g1_v(80)=(-(T(7)*T(4)/y(115)));
g1_v(81)=(-(T(7)*T(3)/y(116)));
g1_v(82)=(-(T(3)*T(9)*T(12)/(y(134)*y(12))));
g1_v(83)=1-T(51)*(T(37)*T(3)*T(52)+T(38)*T(4)*T(50));
g1_v(84)=T(3);
g1_v(85)=(-(T(4)*T(9)*T(12)/(y(133)*y(11))));
g1_v(86)=(-(params(16)*y(156)/y(152)));
g1_v(87)=1;
g1_v(88)=(-(T(7)/y(118)));
g1_v(89)=(-(T(9)*1/y(7)));
g1_v(90)=(-(T(9)*(1-y(143))));
g1_v(91)=(-(T(9)*T(12)/(y(135)*y(13))));
g1_v(92)=(-(params(16)*y(156)/y(152)));
g1_v(93)=1;
g1_v(94)=(-(T(7)/y(118)));
g1_v(95)=(-(T(9)*1/y(8)));
g1_v(96)=(-(T(9)*(1-y(144))));
g1_v(97)=(-(T(9)*T(12)/(y(135)*y(13))));
g1_v(98)=(-(params(16)*y(156)/y(152)));
g1_v(99)=1;
g1_v(100)=(-(T(7)/y(118)));
g1_v(101)=(-(T(9)*1/y(9)));
g1_v(102)=(-(T(9)*(1-y(145))));
g1_v(103)=(-(T(9)*T(12)/(y(135)*y(13))));
g1_v(104)=T(9);
g1_v(105)=T(9);
g1_v(106)=T(9);
g1_v(107)=1;
g1_v(108)=(-(y(158)*(-y(161))));
g1_v(109)=1;
g1_v(110)=(-(y(159)*(-y(162))));
g1_v(111)=1;
g1_v(112)=(-(y(160)*(-y(163))));
g1_v(113)=y(11);
g1_v(114)=1;
g1_v(115)=y(12);
g1_v(116)=1;
g1_v(117)=y(13);
g1_v(118)=1;
g1_v(119)=(-(T(15)*T(11)*T(17)*y(11)*T(53)));
g1_v(120)=(-(T(2)+params(8)*T(2)/2*2*(y(133)-1)));
g1_v(121)=(-(params(8)*T(2)));
g1_v(122)=(-((-(y(11)*(y(103)+params(14)*(1-params(6))*(1-params(11))/params(18)*T(15))*T(9)*T(12)))/(y(133)*y(11)*y(133)*y(11))));
g1_v(123)=1;
g1_v(124)=(-(T(9)*y(107)*(-(params(10)/2*2*(y(161)-T(1))))));
g1_v(125)=(-params(10));
g1_v(126)=(-(y(158)*((-y(146))-params(10)/2*2*(y(161)-T(1)))));
g1_v(127)=1;
g1_v(128)=(-(T(9)*y(108)*(-(params(10)/2*2*(y(162)-T(1))))));
g1_v(129)=(-params(10));
g1_v(130)=(-(y(159)*((-y(147))-params(10)/2*2*(y(162)-T(1)))));
g1_v(131)=1;
g1_v(132)=(-(T(9)*y(109)*(-(params(10)/2*2*(y(163)-T(1))))));
g1_v(133)=(-params(10));
g1_v(134)=(-(y(160)*((-y(148))-params(10)/2*2*(y(163)-T(1)))));
g1_v(135)=y(140);
g1_v(136)=(-(1-y(161)*y(146)-y(143)));
g1_v(137)=1;
g1_v(138)=(-(1-y(162)*y(147)-y(144)));
g1_v(139)=1;
g1_v(140)=y(141);
g1_v(141)=(-(1-y(163)*y(148)-y(145)));
g1_v(142)=1;
g1_v(143)=y(142);
g1_v(144)=(1-params(16))/y(155);
g1_v(145)=(-1);
g1_v(146)=(-1);
g1_v(147)=(1-params(16))/y(156);
g1_v(148)=(-((-(y(12)*T(28)*T(9)*T(12)))/(y(134)*y(12)*y(134)*y(12))));
g1_v(149)=(-(T(2)+params(8)*T(2)/2*2*(y(134)-1)));
g1_v(150)=y(159)*params(8)*T(2);
g1_v(151)=(-(T(27)*T(46)*T(47)*y(12)*T(54)));
g1_v(152)=(-1);
g1_v(153)=(1-params(16))/y(154);
g1_v(154)=(-(T(22)*T(20)*T(23)*y(13)*T(55)));
g1_v(155)=(-(T(2)+params(9)*T(2)/2*2*(y(135)-1)));
g1_v(156)=y(160)*params(9)*T(2);
g1_v(157)=(-((-(y(13)*(y(106)+params(11)*params(14)/params(18)*T(22))*T(9)*T(12)))/(y(135)*y(13)*y(135)*y(13))));
g1_v(158)=(-(T(43)*y(246)*y(258)*T(67)));
g1_v(159)=(-(T(44)*y(247)*y(259)*T(67)));
g1_v(160)=(-(T(45)*y(248)*y(260)*T(67)));
g1_v(161)=(-((y(227)*y(233)+y(258)*(1-y(237)))*T(67)));
g1_v(162)=(-((y(228)*y(234)+y(259)*(1-y(238)))*T(67)));
g1_v(163)=(-((y(229)*y(235)+y(260)*(1-y(239)))*T(67)));
g1_v(164)=1;
g1_v(165)=(-(T(42)*y(258)*T(43)));
g1_v(166)=(-(T(42)*y(259)*T(44)));
g1_v(167)=(-(T(42)*y(260)*T(45)));
g1_v(168)=(-(T(42)*(-y(258))));
g1_v(169)=(-(T(42)*(-y(259))));
g1_v(170)=(-(T(42)*(-y(260))));
g1_v(171)=(-(T(42)*y(227)));
g1_v(172)=(-(T(42)*y(258)*y(246)*2*y(261)));
g1_v(173)=(-(T(42)*y(259)*y(247)*2*y(262)));
g1_v(174)=(-(T(42)*y(260)*y(248)*2*y(263)));
g1_v(175)=(-(T(43)*T(42)*y(246)));
g1_v(176)=(-(T(42)*(1-y(237))));
g1_v(177)=(-(T(44)*T(42)*y(247)));
g1_v(178)=(-(T(42)*(1-y(238))));
g1_v(179)=(-(T(45)*T(42)*y(248)));
g1_v(180)=(-(T(42)*(1-y(239))));
g1_v(181)=(-(T(42)*y(234)));
g1_v(182)=(-(T(42)*y(235)));
g1_v(183)=(-(T(42)*y(228)));
g1_v(184)=(-(T(42)*y(233)));
g1_v(185)=(-(T(42)*y(229)));
g1_v(186)=(-(T(43)*y(246)*y(258)*T(41)*T(40)*1/y(157)));
g1_v(187)=(-(T(44)*y(247)*y(259)*T(41)*T(40)*1/y(157)));
g1_v(188)=(-(T(45)*y(248)*y(260)*T(41)*T(40)*1/y(157)));
g1_v(189)=(-((y(227)*y(233)+y(258)*(1-y(237)))*T(41)*T(40)*1/y(157)));
g1_v(190)=(-((y(228)*y(234)+y(259)*(1-y(238)))*T(41)*T(40)*1/y(157)));
g1_v(191)=(-((y(229)*y(235)+y(260)*(1-y(239)))*T(41)*T(40)*1/y(157)));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 42, 126);
end
end
