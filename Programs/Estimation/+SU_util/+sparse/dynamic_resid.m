function [residual, T_order, T] = dynamic_resid(y, x, params, steady_state, T_order, T)
if nargin < 6
    T_order = -1;
    T = NaN(38, 1);
end
[T_order, T] = SU_util.sparse.dynamic_resid_tt(y, x, params, steady_state, T_order, T);
residual = NaN(53, 1);
    residual(1) = (T(26)) - ((1-params(8))*y(71));
    residual(2) = (T(3)) - (params(8)*y(55)/y(73));
    residual(3) = (T(3)) - (params(8)*y(76)*y(56)/y(74));
    residual(4) = (y(75)) - (y(55)-T(5)-T(27));
    residual(5) = (y(76)*T(6)) - (T(8)*T(7)*T(29));
    residual(6) = (y(123)) - (y(122));
    residual(7) = (y(55)) - (T(17)*T(34));
    residual(8) = (y(56)) - (T(18)*T(38));
    residual(9) = (y(56)*exp(y(77))) - (exp(y(77))*(y(59)+y(60))-(y(6)+y(7))*T(28));
    residual(10) = ((1-params(8))*y(71)) - ((1-params(8))*params(7)*y(55)/y(62));
    residual(11) = ((1-params(8))*y(69)) - (exp(y(77))*y(55)*T(19)/y(6));
    residual(12) = ((1-params(8))*y(71)/y(76)) - ((1-params(8))*params(7)*y(56)/y(63));
    residual(13) = ((1-params(8))*y(70)/y(76)) - (exp(y(77))*y(56)*T(19)/y(7));
    residual(14) = (y(61)) - (y(62)+y(63));
    residual(15) = (y(58)) - (y(59)+y(60));
    residual(16) = (y(72)) - (y(73)+y(74));
    residual(17) = (y(54)) - (y(55)+params(16)*y(56));
    residual(18) = (y(57)) - (T(9)*T(16));
    residual(19) = (y(78)) - (T(30));
    residual(20) = (y(79)) - (T(35));
    residual(21) = (y(80)) - (y(78)*y(55)/(y(55)+y(56))+y(79)*y(56)/(y(55)+y(56)));
    residual(22) = (y(77)) - (params(3)*(1-params(11))+params(11)*y(24)+x(1));
    residual(23) = (y(64)) - (params(12)*y(11)+x(2));
    residual(24) = (y(65)) - (params(13)*y(13)+x(3));
    residual(25) = (y(66)) - (y(64)+y(65));
    residual(26) = (y(67)) - (params(14)*y(14)-x(4));
    residual(27) = (y(68)) - (params(15)*y(15)-x(5));
    residual(28) = (y(81)) - (log(y(54))-(log(steady_state(1))));
    residual(29) = (y(82)) - (log(y(55))-(log(steady_state(2))));
    residual(30) = (y(83)) - (log(y(56))-(log(steady_state(3))));
    residual(31) = (y(84)) - (log(y(61))-(log(steady_state(8))));
    residual(32) = (y(85)) - (log(y(62))-(log(steady_state(9))));
    residual(33) = (y(86)) - (log(y(63))-(log(steady_state(10))));
    residual(34) = (y(87)) - (y(81)-y(84));
    residual(35) = (y(88)) - (log(y(57))-(log(steady_state(4))));
    residual(36) = (y(89)) - (log(y(72))-(log(steady_state(19))));
    residual(37) = (y(90)) - (log(y(76))-(log(steady_state(23))));
    residual(38) = (y(91)) - (log(y(80))-(log(steady_state(27))));
    residual(39) = (y(92)) - (log(y(78))-(log(steady_state(25))));
    residual(40) = (y(93)) - (log(y(79))-(log(steady_state(26))));
    residual(41) = (y(94)) - (y(77)+y(82)-y(29)-params(3));
    residual(42) = (y(95)) - (y(77)+y(83)-y(30)-params(3));
    residual(43) = (y(96)) - (y(77)+y(81)-y(28)-params(3));
    residual(44) = (y(97)) - (y(77)+y(87)-y(34)-params(3));
    residual(45) = (y(98)) - (y(88)-y(35)+params(7)*(y(77)-params(3)));
    residual(46) = (y(99)) - (y(90)-y(37));
    residual(47) = (y(102)) - (y(84)-y(31));
    residual(48) = (y(100)) - (y(85)-y(32));
    residual(49) = (y(101)) - (y(86)-y(33));
    residual(50) = (y(103)) - (y(89)-y(36));
    residual(51) = (y(104)) - (y(91)-y(38));
    residual(52) = (y(105)) - (y(92)-y(39));
    residual(53) = (y(106)) - (y(93)-y(40));
end
